<!DOCTYPE html>
<html>
<head>
    <title>Aegisthedefender</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        input, button { margin: 5px; padding: 8px; }
        .critical { color: red; font-weight: bold; }
        .warning { color: orange; }
        .normal { color: green; }
        #result { margin-top: 20px; padding: 15px; border-radius: 5px; }
        .critical-bg { background: #ffe6e6; border: 2px solid red; }
        .warning-bg { background: #fff3e6; border: 2px solid orange; }
        .normal-bg { background: #e6ffe6; border: 2px solid green; }
    </style>
</head>
<body>
    <h1>Aegisthedefender</h1>
    <p>The system learns itself every 20 seconds + Identifies attack types</p>
    <div>
        <input type="number" id="packets" placeholder="Packets/sec" value="100"><br>
        <input type="number" id="ips" placeholder="Unique IPs" value="5"><br>
        <input type="number" id="ssh" placeholder="SSH attempts" value="2"><br>
        <input type="number" id="ports" placeholder="Port scans" value="1"><br>
    </div>
    <button onclick="analyze()">Analyze traffic</button>
    <div id="result"></div>
    <script>
        async function analyze() {
            const packets = document.getElementById('packets').value;
            const ips = document.getElementById('ips').value;
            const ssh = document.getElementById('ssh').value;
            const ports = document.getElementById('ports').value;
            
            const response = await fetch(`/analyze?packets=${packets}&ips=${ips}&ssh=${ssh}&ports=${ports}`);
            const result = await response.json();
            
            const div = document.getElementById('result');
            div.className = result.level + '-bg';
            
            div.innerHTML = `
                <h3 class="${result.level}">${result.status}</h3>
                <p><strong>Threat type:</strong> ${result.attack_type}</p>
                <p><strong>AI Confidence:</strong> ${result.confidence}%</p>
                <p><strong>Risk level:</strong> ${result.risk}%</p>
                <p><strong>Studied patterns:</strong> ${result.patterns}</p>
            `;
        }

        function testDDoS() {
            document.getElementById('packets').value = 8000;
            document.getElementById('ips').value = 150;
            document.getElementById('ssh').value = 5;
            document.getElementById('ports').value = 3;
        }
        function testPortScan() {
            document.getElementById('packets').value = 2000;
            document.getElementById('ips').value = 25;
            document.getElementById('ssh').value = 2;
            document.getElementById('ports').value = 25;
        }
        function testSSHBrute() {
            document.getElementById('packets').value = 800;
            document.getElementById('ips').value = 3;
            document.getElementById('ssh').value = 35;
            document.getElementById('ports').value = 1;
        }
    </script>
    <div style="margin-top: 20px;">
        <h4>Quick tests (start analysis immediately):</h4>
        <button onclick="setAndAnalyze(8000, 150, 5, 3)">DDoS</button>
        <button onclick="setAndAnalyze(2000, 25, 2, 25)">Scanning</button>
        <button onclick="setAndAnalyze(800, 3, 35, 1)">SSH attack</button>
        <button onclick="setAndAnalyze(100, 5, 2, 1)">Norm</button>
    </div>
    <script>
    function setAndAnalyze(packets, ips, ssh, ports) {
        document.getElementById('packets').value = packets;
        document.getElementById('ips').value = ips;
        document.getElementById('ssh').value = ssh;
        document.getElementById('ports').value = ports;
        analyze();
    }
    </script>
</body>
</html>

